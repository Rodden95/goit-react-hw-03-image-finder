{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.module.css","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","Components/SearchBar/SearchBar.js","App.js","index.js","Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","ImageGalleryItem","image","modal","webformatURL","tags","id","largeImageURL","className","s","onClick","src","name","alt","ImageGalleryItemImage","PropTypes","array","isRequired","func","Button","type","Modal","photo","Overlay","data","map","ImageGallery","state","pictures","page","loader","modalOpen","modalOpener","e","target","setState","modalClose","currentTarget","code","nextPage","prevState","prevProps","nextName","this","props","apiKey","fetch","then","res","json","hits","finally","window","addEventListener","removeEventListener","center","text","color","height","width","timeout","Component","string","SearchBar","inputValueHandler","value","toLowerCase","onSubmit","preventDefault","trim","alert","mainContainer","Searchbar","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","App","nameFromSearchBar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dfdd61eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2enQg\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1anNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__37dCn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1is9j\",\"SearchForm\":\"SearchBar_SearchForm__EuHwa\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2yWRN\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2mmf3\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2sHId\",\"mainContainer\":\"SearchBar_mainContainer__3OaNB\"};","import s from './ImageGalleryItem.module.css'\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGalleryItem({image, modal}) {\r\n\r\n  const { webformatURL, tags, id, largeImageURL} = image\r\n  // console.log(largeImageURL);\r\n  return (\r\n  \r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      \r\n      key={id}\r\n      \r\n      onClick={modal}\r\n    >\r\n          <img src={webformatURL} name={id} alt={tags} className={s.ImageGalleryItemImage} />\r\n        </li>\r\n  \r\n    \r\n  );\r\n}\r\nPropTypes.ImageGalleryItem = {\r\n  image: PropTypes.array.isRequired,\r\n  modal: PropTypes.func.isRequired,\r\n}","import s from './Button.module.css'\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({onClick}) {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={s.Button}\r\n        onClick={onClick}\r\n      >Load more</button>\r\n    );\r\n }\r\n\r\nPropTypes.Button = {\r\n\r\n};","import s from './Modal.module.css'\r\nimport PropTypes from \"prop-types\";\r\nexport default function Modal({ photo, modal }) {\r\n  return (\r\n    \r\n    <div className={s.Overlay} onClick={modal} data=\"asd\">\r\n      <div className={s.Modal}>\r\n        {\r\n          photo.map(({ largeImageURL, id, tags }) =>\r\n            <img src={largeImageURL} alt={tags} key={id} className={s.photo} />\r\n          )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nPropTypes.Modal = {\r\n  photo: PropTypes.array.isRequired,\r\n  modal: PropTypes.func.isRequired,\r\n}","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from './ImageGallery.module.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\n// import Loader from '../Loader';\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from '../Button';\r\nimport Modal from '../Modal';\r\nexport default class ImageGallery extends Component {\r\n  \r\n  state = {\r\n    pictures: null,\r\n    page: 1,\r\n    loader: false,\r\n    modalOpen: false,\r\n    id: null,\r\n    photo:null\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const nextName = this.props.name;\r\n    const { page,id } = this.state;\r\n    const apiKey = '24225279-9c926e63021bd911a81e6f13c';\r\n    \r\n    if (prevProps.name !== nextName) {\r\n      this.setState({ loader: true })\r\n      return fetch(`https://pixabay.com/api/?key=${apiKey}&q=${nextName}&per_page=12&page=${page}`)\r\n        .then(res =>\r\n          res.json())\r\n        .then(({ hits }) =>\r\n          this.setState({ pictures: hits }))\r\n        .finally(() =>\r\n          this.setState({ loader: false }))\r\n        \r\n    } else if (prevState.page !== page) {\r\n\r\n      return fetch(`https://pixabay.com/api/?key=${apiKey}&q=${nextName}&per_page=12&page=${page}`)\r\n        .then(res =>\r\n          res.json())\r\n        .then(({ hits }) =>\r\n          this.setState(prevState =>\r\n            ({ pictures: [...prevState.pictures, ...hits] })))\r\n        .finally(() =>\r\n          this.setState({ loader: false }))\r\n    } else if (prevState.id !== id) {\r\n      this.setState({photo: null})\r\n      return fetch(`https://pixabay.com/api/?key=${apiKey}&id=${id}`)\r\n        .then(res =>\r\n          res.json())\r\n        .then(({hits}) =>\r\n         this.setState({photo: hits}))\r\n        \r\n    }\r\n  }\r\n  componentDidMount() {\r\n      window.addEventListener('keydown', this.modalClose)\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.modalClose)\r\n  }\r\n  modalOpener = (e) => {\r\n\r\n    const id = e.target.name;\r\n    this.setState(\r\n      ({\r\n        // loader: true,\r\n        modalOpen: true,\r\n        id\r\n      })\r\n    )\r\n  }\r\n  modalClose = (e) => {\r\n    if (e.target === e.currentTarget || this.state.modalOpen && e.code === 'Escape') {\r\n      this.setState({ modalOpen: false })\r\n    };\r\n   \r\n}\r\n  \r\n  nextPage = () =>\r\n    this.setState(prevState =>\r\n    ({\r\n      page: prevState.page + 1,\r\n      loader:true\r\n    }));\r\n  \r\n  \r\n  render() {\r\n    const { modalOpen, photo, pictures,loader } = this.state;\r\n    return (\r\n      <div className={s.center}>\r\n        <ul className={s.ImageGallery}>\r\n          {!this.props.name && <div className={s.text}>...Найдется все</div>}\r\n          {loader && <div className={s.loader}>\r\n            <Loader type=\"Bars\"\r\n              color=\"#00BFFF\"\r\n              height={200}\r\n              width={200}\r\n              timeout={2000}\r\n            />\r\n          </div>}\r\n          \r\n          {pictures &&\r\n            (pictures.map(image =>\r\n              <ImageGalleryItem image={image} key={image.id} modal={this.modalOpener} />\r\n            ))}\r\n          {modalOpen && photo && <Modal photo={photo} modal={this.modalClose} />}\r\n        </ul>\r\n        {pictures && <Button onClick={this.nextPage} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nPropTypes.ImageGallery = {\r\n  name: PropTypes.string.isRequired,\r\n}","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component{\r\n\r\n  state = {\r\n    name: '',\r\n }\r\n  inputValueHandler = (e) => {\r\n    \r\n    this.setState({name:e.currentTarget.value.toLowerCase()})\r\n  }\r\n  onSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (this.state.name.trim() === '') {\r\n      return alert('enter something...');\r\n    }\r\n    this.props.name(this.state.name)\r\n    this.setState({name:''})\r\n  }\r\n  render() {\r\n    \r\n    return (\r\n      <div className={s.mainContainer}>\r\n        <header className={s.Searchbar}>\r\n          <form\r\n            className={s.SearchForm}\r\n            onSubmit={this.onSubmit}\r\n          >\r\n            <button\r\n              type=\"submit\"\r\n              className={s.SearchFormButton}\r\n              \r\n            >\r\n              <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n  \r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.inputValueHandler}\r\n            />\r\n          </form>\r\n          \r\n        </header>\r\n       \r\n      </div>\r\n    );\r\n  };\r\n  \r\n}\r\nPropTypes.SearchBar = {\r\n\r\n}","import { Component } from \"react\";\nimport ImageGallery from './Components/ImageGallery'\nimport SearchBar from './Components/SearchBar';\n\nimport './App.css'\nclass App extends Component {\n  \n  state = {\n    name: '',\n    photo: null,\n  }\n\n \n  nameFromSearchBar = name => {\n    this.setState({ name });\n    \n  }\n  \n  render() {\n    const { name } = this.state;\n    return (\n      \n      <div>\n        <SearchBar name={this.nameFromSearchBar} />\n        <ImageGallery name={name} />\n        \n        \n      </div>\n    )\n  };\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2-HaW\",\"center\":\"ImageGallery_center__3wuJc\",\"text\":\"ImageGallery_text__271TX\",\"loader\":\"ImageGallery_loader__3CYxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__11kOv\",\"Modal\":\"Modal_Modal__2B5aK\",\"photo\":\"Modal_photo__2kGR5\"};"],"sourceRoot":""}