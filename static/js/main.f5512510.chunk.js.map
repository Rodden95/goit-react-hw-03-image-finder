{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","services.js","Components/ImageGallery/ImageGallery.js","Components/SearchBar/SearchBar.js","App.js","index.js","Components/SearchBar/SearchBar.module.css","Components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","ImageGalleryItem","image","modal","webformatURL","tags","id","className","s","onClick","src","name","alt","ImageGalleryItemImage","PropTypes","array","isRequired","func","Button","type","Modal","photo","Overlay","data","map","largeImageURL","Services","page","nextName","this","apiKey","a","fetch","response","json","ImageGallery","state","pictures","loader","modalOpen","modalOpener","e","target","setState","modalClose","currentTarget","code","nextPage","prevState","prevProps","props","services","Init","then","hits","finally","fetchPic","window","addEventListener","removeEventListener","center","text","color","height","width","timeout","Component","string","SearchBar","inputValueHandler","value","toLowerCase","onSubmit","preventDefault","trim","alert","mainContainer","Searchbar","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","App","nameFromSearchBar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5512510.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__11kOv\",\"Modal\":\"Modal_Modal__2B5aK\",\"photo\":\"Modal_photo__2kGR5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2enQg\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1anNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__37dCn\"};","import s from './ImageGalleryItem.module.css'\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGalleryItem({image, modal}) {\r\n\r\n  const { webformatURL, tags, id } = image;\r\n \r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      key={id}\r\n      onClick={modal}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        name={id} alt={tags}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  \r\n    \r\n  )\r\n}\r\nPropTypes.ImageGalleryItem = {\r\n  image: PropTypes.array.isRequired,\r\n  modal: PropTypes.func.isRequired,\r\n}","import s from './Button.module.css'\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({onClick}) {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={s.Button}\r\n        onClick={onClick}\r\n      >Load more</button>\r\n    );\r\n }\r\n\r\nPropTypes.Button = {\r\n\r\n};","import s from './Modal.module.css'\r\nimport PropTypes from \"prop-types\";\r\nexport default function Modal({ photo, modal }) {\r\n  return (\r\n    <div className={s.Overlay}\r\n      onClick={modal}\r\n      data=\"asd\">\r\n      <div className={s.Modal}>\r\n        {\r\n          photo.map(({ largeImageURL, id, tags }) =>\r\n            <img \r\n              src={largeImageURL} \r\n              alt={tags} \r\n              key={id} \r\n              className={s.photo} \r\n            />)\r\n          \r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nPropTypes.Modal = {\r\n  photo: PropTypes.array.isRequired,\r\n  modal: PropTypes.func.isRequired,\r\n}","class Services {\r\n\r\n  constructor(page, nextName, id) {\r\n    this.id = id;\r\n    this.nextName = nextName;\r\n    this.page = page;\r\n    this.apiKey = '24225279-9c926e63021bd911a81e6f13c';\r\n  }\r\n\r\n  async fetch() {\r\n    try{\r\n      const response = await fetch(`https://pixabay.com/api/?key=${this.apiKey}&q=${this.nextName}&per_page=12&page=${this.page}`)\r\n    return response.json();\r\n    }catch(error){\r\n      throw error\r\n    }\r\n  }\r\n  async fetchPic() {\r\n    try{\r\n      const response = await fetch(`https://pixabay.com/api/?key=${this.apiKey}&id=${this.id}`);\r\n\r\n    return response.json();\r\n    }catch(error){\r\n      throw error\r\n    }\r\n  };\r\n\r\n\r\n\r\n}\r\n\r\nexport default function Init (page, nextName, id){\r\n  return new Services(page, nextName, id)\r\n}","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from './ImageGallery.module.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from '../Button';\r\nimport Modal from '../Modal';\r\nimport Init from \"../../services\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  \r\n  state = {\r\n    pictures: null,\r\n    page: 1,\r\n    loader: false,\r\n    modalOpen: false,\r\n    id: null,\r\n    photo:null\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const nextName = this.props.name;\r\n    const { page,id } = this.state;\r\n    // const services = new Services(page, nextName, id);\r\n    const services = Init(page, nextName, id);\r\n\r\n    if (prevProps.name !== nextName) {\r\n      this.setState({ loader: true })\r\n      services.fetch()\r\n      .then(({ hits }) =>\r\n        this.setState({ pictures: hits }))\r\n      .finally(() =>\r\n        this.setState({ loader: false }))\r\n        \r\n    } else if (prevState.page !== page) {\r\n      services.fetch()\r\n        .then(({ hits }) =>\r\n          this.setState(prevState =>\r\n            ({ pictures: [...prevState.pictures, ...hits] })))\r\n        .finally(() =>\r\n          this.setState({ loader: false }))\r\n      \r\n    } else if (prevState.id !== id) {\r\n      this.setState({photo: null})\r\n      services.fetchPic()\r\n        .then(({hits}) =>\r\n         this.setState({photo: hits}))\r\n    }\r\n  }\r\n  componentDidMount() {\r\n      window.addEventListener('keydown', this.modalClose)\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.modalClose)\r\n  }\r\n  modalOpener = (e) => {\r\n    const id = e.target.name;\r\n    this.setState(\r\n      ({\r\n        modalOpen: true,\r\n        id\r\n      })\r\n    )\r\n  }\r\n  modalClose = (e) => {\r\n    if (e.target === e.currentTarget || this.state.modalOpen && e.code === 'Escape') {\r\n      this.setState({ modalOpen: false })\r\n    };\r\n  }\r\n  \r\n  nextPage = () =>\r\n    this.setState(prevState =>\r\n    ({\r\n      page: prevState.page + 1,\r\n      loader:true\r\n    }));\r\n  render() {\r\n    const { modalOpen, photo, pictures,loader } = this.state;\r\n    return (\r\n      <div className={s.center}>\r\n        <ul className={s.ImageGallery}>\r\n          {!this.props.name && <div className={s.text}>...Найдется все</div>}\r\n          {loader && <div className={s.loader}>\r\n            <Loader type=\"Bars\"\r\n              color=\"#00BFFF\"\r\n              height={200}\r\n              width={200}\r\n              timeout={2000}\r\n            />\r\n          </div>}\r\n          {pictures &&\r\n            (pictures.map(image =>\r\n              <ImageGalleryItem image={image} key={image.id} modal={this.modalOpener} />\r\n            ))}\r\n          {modalOpen && photo && <Modal photo={photo} modal={this.modalClose} />}\r\n        </ul>\r\n        {pictures && <Button onClick={this.nextPage} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nPropTypes.ImageGallery = {\r\n  name: PropTypes.string.isRequired,\r\n}","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from './SearchBar.module.css';\r\n\r\n\r\nexport default class SearchBar extends Component{\r\n\r\n  state = {\r\n    name: '',\r\n }\r\n  inputValueHandler = (e) => {\r\n    \r\n    this.setState({name:e.currentTarget.value.toLowerCase()})\r\n  }\r\n  onSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (this.state.name.trim() === '') {\r\n      return alert('enter something...');\r\n    }\r\n    this.props.name(this.state.name)\r\n    this.setState({name:''})\r\n  }\r\n  render() {\r\n    \r\n    return (\r\n      <div className={s.mainContainer}>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.inputValueHandler}\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n}\r\nPropTypes.SearchBar = {\r\n  name: PropTypes.func.isRequired,\r\n}","import { Component } from \"react\";\nimport ImageGallery from './Components/ImageGallery'\nimport SearchBar from './Components/SearchBar';\n\nimport './App.css'\nclass App extends Component {\n  \n  state = {\n    name: '',\n    photo: null,\n  }\n\n \n  nameFromSearchBar = name => {\n    this.setState({ name });\n    \n  }\n  \n  render() {\n    const { name } = this.state;\n    return (\n      \n      <div>\n        <SearchBar name={this.nameFromSearchBar} />\n        <ImageGallery name={name} />\n        \n      </div>\n    )\n  };\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1is9j\",\"SearchForm\":\"SearchBar_SearchForm__EuHwa\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2yWRN\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2mmf3\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2sHId\",\"mainContainer\":\"SearchBar_mainContainer__3OaNB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2-HaW\",\"center\":\"ImageGallery_center__3wuJc\",\"text\":\"ImageGallery_text__271TX\",\"loader\":\"ImageGallery_loader__3CYxP\"};"],"sourceRoot":""}